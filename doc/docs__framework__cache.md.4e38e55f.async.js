(self["webpackChunkenhe_design"]=self["webpackChunkenhe_design"]||[]).push([[7120],{59943:function(e,t,l){"use strict";l.r(t);var n=l(67294),o=l(96089),a=(l(78296),l(9971)),i=(l(10676),l(8723),l(27832),l(12178)),r=(l(50043),l(80963),n.memo((function(e){e.demos;return n.createElement(n.Fragment,null,n.createElement("div",{className:"markdown"},n.createElement("h2",{id:"1-\u7f13\u5b58\u4ecb\u7ecd"},n.createElement(o.AnchorLink,{to:"#1-\u7f13\u5b58\u4ecb\u7ecd","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"1. \u7f13\u5b58\u4ecb\u7ecd"),n.createElement("ol",null,n.createElement("li",null,"\u524d\u7aef\u7f13\u5b58\u4f7f\u7528 localStorage"),n.createElement("li",null,"\u7f13\u5b58\u5927\u5c0f < 5M \uff0c\u5177\u4f53\u6709\u5404\u6d4f\u89c8\u5668\u800c\u5b9a"),n.createElement("li",null,"\u6240\u6709\u6d4f\u89c8\u5668\u4f1a\u628a localStorage \u7684\u503c\u7c7b\u578b\u9650\u5b9a\u4e3a string \u7c7b\u578b"),n.createElement("li",null,"localStorage \u672c\u8d28\u4e0a\u662f\u5bf9\u5b57\u7b26\u4e32\u7684\u8bfb\u53d6\uff0c\u5982\u679c\u5b58\u50a8\u5185\u5bb9\u591a\u7684\u8bdd\u4f1a\u6d88\u8017\u5185\u5b58\u7a7a\u95f4\uff0c\u4f1a\u5bfc\u81f4\u9875\u9762\u53d8\u5361"),n.createElement("li",null,"localStorage \u4e0e sessionStorage \u7684\u552f\u4e00\u4e00\u70b9\u533a\u522b\u5c31\u662f localStorage \u5c5e\u4e8e\u6c38\u4e45\u6027\u5b58\u50a8\uff0c\u800c sessionStorage \u5c5e\u4e8e\u5f53\u4f1a\u8bdd\u7ed3\u675f\u7684\u65f6\u5019\uff0csessionStorage \u4e2d\u7684\u952e\u503c\u5bf9\u4f1a\u88ab\u6e05\u7a7a")),n.createElement("h3",{id:"12-\u4f7f\u7528\u793a\u4f8b"},n.createElement(o.AnchorLink,{to:"#12-\u4f7f\u7528\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"1.2. \u4f7f\u7528\u793a\u4f8b"),n.createElement("ol",null,n.createElement("li",null,"\u5199\u5165\u7f13\u5b58")),n.createElement("p",null,"\u7b2c\u4e00\u6b65\uff1a\u5728 src/utils/LocalStorageUtils.ts \u6587\u4ef6\u4e2d KeysEnum \u4e0b\u6dfb\u52a0\u4f7f\u7528\u7684 key"),n.createElement(i.Z,{code:'// \u7f13\u5b58\u7684key\u503c\u679a\u4e3e\n  static KeysEnum = {\n    // \u79df\u6237ID\n    "TENANT_ID": "tenantId"\n  }',lang:"javascript"}),n.createElement("p",null,"\u7b2c\u4e8c\u6b65\uff1a\u8c03\u7528 LocalStorageUtils.setValue \u65b9\u6cd5\uff0c\u5199\u5165\u7f13\u5b58\u503c"),n.createElement(i.Z,{code:"import LocalStorageUtils from '@/utils/LocalStorageUtils';\n\nLocalStorageUtils.setValue(LocalStorageUtils.KeysEnum.TENANT_ID, '000000');",lang:"javascript"}),n.createElement("ol",{start:2},n.createElement("li",null,"\u8bfb\u53d6\u7f13\u5b58 \u8c03\u7528 LocalStorageUtils.getValue \u65b9\u6cd5\uff0c\u8bfb\u53d6\u7f13\u5b58\u503c")),n.createElement(i.Z,{code:"import LocalStorageUtils from '@/utils/LocalStorageUtils';\n\nLocalStorageUtils.getValue(LocalStorageUtils.KeysEnum.TENANT_ID);",lang:"javascript"}),n.createElement("h2",{id:"2-\u767b\u5f55-token-\u7f13\u5b58\u673a\u5236"},n.createElement(o.AnchorLink,{to:"#2-\u767b\u5f55-token-\u7f13\u5b58\u673a\u5236","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"2. \u767b\u5f55 token \u7f13\u5b58\u673a\u5236"),n.createElement("ol",null,n.createElement("li",null,"\u767b\u5f55\u7f13\u5b58\u4f7f\u7528 cookie \u5b58\u50a8\u767b\u5f55 token"),n.createElement("li",null,"\u9ed8\u8ba4 cookie \u5b58\u50a8\u8fc7\u671f\u65f6\u95f4\u4e3a 7 \u5929"),n.createElement("li",null,"path \u8def\u5f84\u7edf\u4e00\u4e3a/"),n.createElement("li",null,"cookie \u8bfb\u53d6\u7684\u4ecd\u65e7\u662f string")),n.createElement("h3",{id:"22-\u4f7f\u7528\u793a\u4f8b"},n.createElement(o.AnchorLink,{to:"#22-\u4f7f\u7528\u793a\u4f8b","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"2.2. \u4f7f\u7528\u793a\u4f8b"),n.createElement("ol",null,n.createElement("li",null,"\u5199\u5165 cookie")),n.createElement("p",null,"\u7b2c\u4e00\u6b65\uff1a\u5728 src/utils/CookieUtils.ts \u6587\u4ef6\u4e2d CookieKeyEnum \u4e0b\u6dfb\u52a0\u4f7f\u7528\u7684 key"),n.createElement(i.Z,{code:"export enum CookieKeyEnum {\n  // \u8ba4\u8bc1\n  AUTH = 'Auth',\n          // \u8fc7\u671f\u65f6\u95f4\n          EXPIRES = 'expires_in',\n          // \u767b\u5f55\u65f6\u95f4\n          LOGIN_TM = 'login_tm',\n          // \u5237\u65b0token\n          REFRESH_TOKEN = 'refresh_token',\n}",lang:"javascript"}),n.createElement("p",null,"\u7b2c\u4e8c\u6b65\uff1aCookieUtils.setItem\uff0c\u5199\u5165\u7f13\u5b58\u503c"),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\n\nCookieUtils.setItem(CookieKeyEnum.AUTH, msg.access_token);",lang:"javascript"}),n.createElement("ol",{start:2},n.createElement("li",null,"\u8bfb\u53d6 cookie CookieUtils.getItem\uff0c\u8bfb\u53d6\u7f13\u5b58\u503c")),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\n\nCookieUtils.getItem(CookieKeyEnum.AUTH);",lang:"javascript"}),n.createElement("ol",{start:3},n.createElement("li",null,"\u6e05\u9664 cookie")),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\nCookieUtils.removeItem(CookieKeyEnum.AUTH);",lang:"javascript"}),n.createElement("ol",{start:4},n.createElement("li",null,"\u6e05\u9664\u6240\u6709")),n.createElement("p",null,n.createElement(a.Z,null,"\u53ea\u9650\u4e8e\u5199\u5165 CookieKeyEnum \u4e2d\u7684 key \u503c\u7684 cookie")),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\nCookieUtils.clearAll();",lang:"javascript"}),n.createElement("ol",{start:5},n.createElement("li",null,"\u83b7\u53d6\u767b\u5f55 token")),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\nCookieUtils.getAuth();",lang:"javascript"}),n.createElement("ol",{start:6},n.createElement("li",null,"\u79fb\u9664\u767b\u5f55 token")),n.createElement(i.Z,{code:"import CookieUtils, { CookieKeyEnum } from '@/utils/CookieUtils';\nCookieUtils.removeAuth();",lang:"javascript"})))})));t["default"]=function(e){var t=n.useContext(o.context),l=t.demos;return n.useEffect((function(){var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),n.createElement(r,{demos:l})}}}]);